{"version":3,"sources":["scripts/main.js"],"names":["thead","document","querySelector","tbody","addEventListener","e","index","target","cellIndex","th","closest","childs","Array","from","children","as","sort","a","b","comparePart1","innerText","comparePart2","prev","parseFloat","slice","next","Number","localeCompare","childRow","append","reverse","trs","querySelectorAll","className","body","form","createElement","innerHTML","nameInput","positionInput","officeInput","ageInput","salaryInput","formValidation","nameValue","value","age","positionValue","letters","match","length","Noti","tittle","text","result","margin","noti","h","setAttribute","classList","textContent","style","top","left","setTimeout","remove","preventDefault","newEmployee","personName","insertCell","personPosition","personOffice","personAge","personSalary","split","lastChar","splice","join","prepend","el","input","prevValue","eve","type","toLocaleString"],"mappings":"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","file":"main.a83c383a.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// Sorting\n\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\n\nthead.addEventListener('click', e => {\n  const index = e.target.cellIndex;\n  const th = e.target.closest('th');\n  const childs = Array.from(tbody.children);\n\n  if (th.as === 'DESC') {\n    childs.reverse();\n\n    for (const childRow of childs) {\n      tbody.append(childRow);\n    }\n    th.as = 'ASC';\n\n    return;\n  }\n\n  childs.sort(function(a, b) {\n    const comparePart1 = a.children[index].innerText;\n    const comparePart2 = b.children[index].innerText;\n\n    if (comparePart1[0] === '$') {\n      const prev = parseFloat(comparePart1.slice(1));\n      const next = parseFloat(comparePart2.slice(1));\n\n      return Number(prev) - Number(next);\n    }\n\n    return comparePart1.localeCompare(comparePart2);\n  });\n\n  for (const childRow of childs) {\n    tbody.append(childRow);\n  }\n  th.as = 'DESC';\n});\n\n// Selected\nconst trs = document.querySelectorAll('tr');\n\ntbody.addEventListener('click', e => {\n  Array.from(trs);\n\n  for (const i of trs) {\n    i.className = '';\n  }\n  e.target.closest('tr').className = 'active';\n});\n\n// form\n\nconst body = document.querySelector('body');\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\n\nform.innerHTML = `\n<label>Name: <input name=\"name\" type=\"text\" data-qa=\"name\" required></label>\n<label>Position:\n  <input name=\"position\" type=\"text\" data-qa=\"position\" required>\n</label>\n<label>Office: <select name=\"office\" data-qa=\"office\" required>\n  <option value=\"Tokyo\">Tokyo</option>\n  <option value=\"Singapore\">Singapore</option>\n  <option value=\"London\">London</option>\n  <option value=\"New York\">New York</option>\n  <option value=\"Edinburgh\">Edinburgh</option>\n  <option value=\"San Francisco\">San Francisco</option>\n</select>\n</label>\n<label>Age: <input name=\"age\" type=\"number\" data-qa=\"age\" required></label>\n<label>Salary:\n  <input name=\"salary\" type=\"number\" data-qa=\"salary\"required>\n</label>\n<button>Save to table</button>\n`;\n\nbody.append(form);\n\n// validation\n\nconst nameInput = document.querySelector('[data-qa=\"name\"]');\nconst positionInput = document.querySelector('[data-qa=\"position\"]');\nconst officeInput = document.querySelector('[data-qa=\"office\"]');\nconst ageInput = document.querySelector('[data-qa=\"age\"]');\nconst salaryInput = document.querySelector('[data-qa=\"salary\"]');\n\nfunction formValidation() {\n  const nameValue = nameInput.value;\n  const age = ageInput.value;\n  const positionValue = positionInput.value;\n  const letters = /^[A-Za-z]+$/;\n\n  if (!nameValue.match(letters) || nameValue.length < 4) {\n    Noti('Warning', 'Name has less than 4 letters', 'warning', '389px');\n\n    return false;\n  }\n\n  if (age < 18 || age > 90) {\n    Noti('Warning', 'Age should be from 18 to 90 years', 'warning', '490px');\n\n    return false;\n  }\n\n  if (!positionValue.match(letters) || positionValue.length < 4) {\n    Noti('Warning', 'Position has less than 4 letters', 'warning', '590px');\n\n    return false;\n  }\n\n  return true;\n};\n\n// Add employe\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const newEmployee = document.createElement('tr');\n  const personName = newEmployee.insertCell(0);\n  const personPosition = newEmployee.insertCell(1);\n  const personOffice = newEmployee.insertCell(2);\n  const personAge = newEmployee.insertCell(3);\n  const personSalary = newEmployee.insertCell(4);\n\n  personName.innerText = nameInput.value;\n  personPosition.innerText = positionInput.value;\n  personOffice.innerText = officeInput.value;\n  personAge.innerText = ageInput.value;\n\n  const validationRes = formValidation();\n\n  if (!validationRes) {\n    Noti('Error', 'New employee can not be added to the table',\n      'error', '280px');\n\n    return;\n  }\n\n  if (salaryInput.value > 999) {\n    const value = salaryInput.value.split('');\n    const lastChar = value.splice(value.length - 3).join('');\n\n    personSalary.innerText = `$${value.join('')},${lastChar}`;\n  } else {\n    personSalary.innerText = `$${salaryInput.value}`;\n  }\n\n  tbody.prepend(newEmployee);\n\n  nameInput.value = '';\n  positionInput.value = '';\n  ageInput.value = '';\n  salaryInput.value = '';\n\n  Noti('Success', 'New employee is successfully added to the table',\n    'success', '280px');\n});\n\n// Notification\n\nfunction Noti(tittle, text, result, margin) {\n  const noti = document.createElement('div');\n  const h = document.createElement('p');\n\n  noti.setAttribute('data-qa', 'notification');\n  noti.classList = `notification ${result}`;\n  h.textContent = tittle;\n  noti.append(h);\n  noti.textContent = text;\n  noti.style.top = margin;\n  noti.style.left = '0px';\n  form.append(noti);\n\n  setTimeout(() => noti.remove(), 2000);\n}\n\n// Dblclick\n\ntbody.addEventListener('dblclick', e => {\n  const el = e.target.closest('td');\n  const input = document.createElement('input');\n  const prevValue = [...el.textContent];\n\n  el.textContent = '';\n  input.className = 'cell-input';\n  el.append(input);\n\n  input.addEventListener('blur', eve => {\n    if (el.cellIndex === 0) {\n      eve.target.value.length > 4 ? el.innerText = eve.target.value\n        : el.textContent = prevValue.join('');\n    }\n\n    if (el.cellIndex === 3) {\n      eve.target.value > 18 && eve.target.value < 90\n        ? el.innerText = eve.target.value\n        : el.textContent = prevValue.join('');\n    }\n\n    if (el.cellIndex === 4) {\n      input.type = 'number';\n\n      el.textContent = eve.target.value\n        ? `$${eve.target.value.toLocaleString()}`\n        : prevValue.join('');\n    }\n  });\n});\n"]}